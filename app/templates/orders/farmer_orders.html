{% extends 'base.html' %}
{% block title %}Farmer Orders{% endblock %}

{% block content %}
<div class="container py-4">

  <h2 class="fw-bold mb-4">ðŸ“¦ Orders Tracking</h2>

  {% if orders %}
    
    {% for order in orders %}
    <div class="card shadow-sm border-0 mb-3">
      <div class="card-body d-flex justify-content-between align-items-center flex-wrap">

        <div>
          <div class="fw-bold">
            Order #{{ order.id }}
          </div>

          <div class="text-muted small">
            {{ order.created_at.strftime("%b %d, %Y") }}
          </div>

          <div class="mt-2">
            <span class="badge
              {% if order.status == 'pending' %} bg-warning text-dark
              {% elif order.status == 'to_ship' %} bg-info
              {% elif order.status == 'to_receive' %} bg-primary
              {% elif order.status == 'completed' %} bg-success
              {% elif order.status == 'cancelled' %} bg-danger
              {% else %} bg-secondary
              {% endif %}
            ">
              {{ order.status.replace('_',' ').title() }}
            </span>
          </div>
        </div>

        <div class="text-end">

          <div class="fw-bold text-success mb-2">
            â‚±{{ "%.2f"|format(order.total_amount) }}
          </div>

          <a href="{{ url_for('orders.order_detail', order_id=order.id) }}"
             class="btn btn-outline-primary btn-sm">
             View Details
          </a>

        </div>

      </div>
    </div>
    {% endfor %}

  {% else %}

    <div class="text-center py-5">
      <h5>No orders yet.</h5>
      <p class="text-muted">
        Orders from buyers will appear here.
      </p>
    </div>

  {% endif %}

</div>
{% endblock %}